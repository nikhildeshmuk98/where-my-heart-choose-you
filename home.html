<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‚ù§Ô∏è Will You Be My Valentine? ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Great+Vibes&family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@700&family=Sacramento&family=Cookie&family=Cormorant+Garamond:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --pink-light: #ffe6f0;
            --pink-medium: #ffb8d9;
            --pink-dark: #ff7bbd;
            --pink-deep: #ff4da6;
            --red-heart: #ff2e80;
            --gold: #ffd700;
            --white: #ffffff;
            --shadow: rgba(0, 0, 0, 0.1);
            --card-bg: #ffffff;
            --card-shadow: 0 20px 60px rgba(255, 77, 166, 0.15);
            --card-border: rgba(255, 255, 255, 0.9);
            --luxury-gold: #d4af37;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fff0f8 0%, #ffe6f2 100%);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            color: #333;
        }
        
        /* Animated floating hearts background */
        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            overflow: hidden;
        }
        
        .floating-heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 123, 189, 0.15);
            animation: floatUp 25s linear infinite;
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Container */
        .container {
            display: flex;
            width: 100%;
            min-height: 100vh;
            position: relative;
        }
        
        /* Left Side Navigation - Desktop */
        .nav-left-desktop {
            width: 100px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 0;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            z-index: 100;
            box-shadow: 5px 0 25px rgba(255, 77, 166, 0.15);
            border-right: 1px solid rgba(255, 255, 255, 0.3);
            transition: all 0.5s ease;
        }
        
        .nav-left-desktop:hover {
            width: 120px;
            box-shadow: 10px 0 35px rgba(255, 77, 166, 0.25);
        }
        
        .nav-button {
            width: 70px;
            height: 70px;
            border-radius: 25px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 184, 217, 0.2));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            color: var(--red-heart);
            font-size: 28px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.5);
            position: relative;
            overflow: hidden;
        }
        
        .nav-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: translateX(-100%);
        }
        
        .nav-button:hover {
            transform: translateY(-8px) scale(1.1);
            background: linear-gradient(145deg, rgba(255, 255, 255, 1), rgba(255, 184, 217, 0.3));
            box-shadow: 0 15px 30px rgba(255, 77, 166, 0.3);
            color: var(--pink-deep);
        }
        
        .nav-button:hover::before {
            animation: shine 0.8s ease;
        }
        
        @keyframes shine {
            100% {
                transform: translateX(100%);
            }
        }
        
        .nav-button:active {
            transform: translateY(-4px);
        }
        
        .nav-button span {
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .nav-left-desktop:hover .nav-button span {
            opacity: 1;
        }
        
        .logout-btn {
            margin-top: auto;
            background: linear-gradient(145deg, rgba(255, 77, 166, 0.2), rgba(255, 123, 189, 0.1));
        }
        
        /* Bottom Navigation - Mobile */
        .nav-bottom-mobile {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 30px 30px 0 0;
            padding: 15px 10px;
            box-shadow: 0 -10px 30px rgba(255, 77, 166, 0.2);
            border-top: 2px solid rgba(255, 255, 255, 0.6);
            z-index: 100;
        }
        
        .nav-bottom-buttons {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        
        .nav-bottom-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--red-heart);
            min-width: 65px;
            border: 2px solid transparent;
        }
        
        .nav-bottom-button:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 20px rgba(255, 77, 166, 0.2);
            border-color: var(--pink-medium);
        }
        
        .nav-bottom-button i {
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        .nav-bottom-button span {
            font-size: 10px;
            font-weight: 600;
        }
        
        /* Main content area */
        .main-content {
            flex: 1;
            margin-left: 100px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
            z-index: 1;
            overflow-y: auto;
        }
        
        /* Hero section */
        .hero {
            text-align: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Beautiful Valentine text */
        .valentine-text {
            font-family: 'Cookie', cursive;
            font-size: clamp(4rem, 10vw, 7rem);
            color: var(--red-heart);
            margin-bottom: 30px;
            text-shadow: 3px 3px 0px rgba(255, 184, 217, 0.5), 
                        6px 6px 0px rgba(255, 123, 189, 0.3);
            line-height: 1.1;
            position: relative;
            padding: 20px;
            animation: heartbeatText 3s infinite;
        }
        
        @keyframes heartbeatText {
            0%, 100% { transform: scale(1); }
            5% { transform: scale(1.03); }
            10% { transform: scale(1); }
            15% { transform: scale(1.03); }
            20% { transform: scale(1); }
        }
        
        .valentine-text::before, .valentine-text::after {
            content: "üíñ";
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3.5rem;
            animation: floatHeartSide 4s infinite ease-in-out;
        }
        
        .valentine-text::before {
            left: -40px;
        }
        
        .valentine-text::after {
            right: -40px;
        }
        
        @keyframes floatHeartSide {
            0%, 100% { transform: translateY(-50%) rotate(0deg); }
            50% { transform: translateY(-60%) rotate(20deg); }
        }
        
        /* White Card */
        .gif-card {
            width: 100%;
            max-width: 700px;
            height: 450px;
            border-radius: 35px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto 40px;
            border: 12px solid var(--card-border);
            z-index: 5;
        }
        
        .gif-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 30px 70px rgba(255, 77, 166, 0.25);
        }
        
        .gif-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 8px;
            background: linear-gradient(90deg, var(--luxury-gold), var(--red-heart), var(--luxury-gold));
            z-index: 2;
        }
        
        .gif-card img {
            width: 90%;
            height: 90%;
            object-fit: contain;
            transition: opacity 0.5s ease;
            border-radius: 15px;
        }
        
        .card-caption {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.85);
            color: var(--red-heart);
            padding: 12px;
            font-size: 1.3rem;
            font-weight: 600;
            text-align: center;
            font-family: 'Cormorant Garamond', serif;
            letter-spacing: 1px;
            border-top: 2px solid var(--pink-medium);
        }
        
        /* Action buttons */
        .action-buttons {
            display: flex;
            gap: 50px;
            margin-top: 10px;
            flex-wrap: wrap;
            justify-content: center;
            position: relative;
            z-index: 10;
        }
        
        .btn {
            padding: 25px 70px;
            border-radius: 70px;
            border: none;
            font-size: 2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            min-width: 250px;
            font-family: 'Playfair Display', serif;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            z-index: 5;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
        }
        
        .btn:hover::before {
            animation: shine 0.8s ease;
        }
        
        .yes-btn {
            background: linear-gradient(145deg, var(--red-heart), var(--pink-deep), var(--red-heart));
            background-size: 200% 100%;
            color: white;
            border: 4px solid rgba(255, 255, 255, 0.7);
            animation: gradientMove 3s infinite alternate;
        }
        
        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        
        .yes-btn:hover {
            transform: translateY(-12px) scale(1.08);
            box-shadow: 0 30px 60px rgba(255, 46, 128, 0.5);
            letter-spacing: 3px;
        }
        
        .yes-btn:active {
            transform: translateY(-6px);
        }
        
        .no-btn {
            background: linear-gradient(145deg, #ffffff, #ffebf5);
            color: #666;
            border: 4px solid rgba(255, 123, 189, 0.6);
            position: relative;
            transition: all 0.5s ease;
        }
        
        .no-btn:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(168, 237, 234, 0.4);
        }
        
        .no-btn:active {
            transform: translateY(0);
        }
        
        /* No button messages */
        .no-message {
            position: absolute;
            top: -80px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 18px 35px;
            border-radius: 50px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            font-weight: 700;
            color: var(--red-heart);
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            border: 3px solid var(--pink-medium);
            z-index: 20;
            font-size: 1.3rem;
        }
        
        .no-message.show {
            opacity: 1;
            visibility: visible;
            top: -90px;
        }
        
        /* Celebration overlay */
        .celebration-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 1s ease;
        }
        
        .celebration-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .celebration-content {
            text-align: center;
            max-width: 900px;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .celebration-text {
            color: white;
            font-size: 5rem;
            font-family: 'Sacramento', cursive;
            text-align: center;
            margin-bottom: 40px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.9);
            animation: glowText 2s infinite alternate;
            line-height: 1.2;
        }
        
        @keyframes glowText {
            0% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.7), 0 0 30px rgba(255, 215, 0, 0.5); }
            100% { text-shadow: 0 0 40px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 215, 0, 0.8), 0 0 80px rgba(255, 215, 0, 0.6); }
        }
        
        .letter-btn {
            background: linear-gradient(145deg, var(--gold), #ffb347, var(--gold));
            background-size: 200% 100%;
            color: #000;
            padding: 25px 60px;
            font-size: 2.2rem;
            margin-top: 40px;
            border: 5px solid rgba(255, 255, 255, 0.9);
            animation: gradientMove 3s infinite alternate, bounce 2s infinite;
            font-family: 'Dancing Script', cursive;
        }
        
        .letter-btn:hover {
            transform: translateY(-10px) scale(1.1);
            box-shadow: 0 25px 50px rgba(255, 215, 0, 0.6);
        }
        
        .confetti {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            opacity: 0.9;
            z-index: 2001;
        }
        
        .cracker {
            position: absolute;
            font-size: 40px;
            z-index: 2001;
            opacity: 0;
            animation: crackerExplode 0.8s forwards;
        }
        
        @keyframes crackerExplode {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 1; }
            100% { transform: scale(1) rotate(360deg); opacity: 1; }
        }
        
        /* Responsive adjustments */
        @media (min-width: 769px) {
            .nav-left-desktop {
                display: flex;
            }
            
            .nav-bottom-mobile {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .nav-left-desktop {
                display: none;
            }
            
            .nav-bottom-mobile {
                display: block;
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px 15px 120px;
            }
            
            .valentine-text {
                font-size: 3.5rem;
                padding: 15px;
            }
            
            .valentine-text::before, .valentine-text::after {
                font-size: 2.5rem;
            }
            
            .valentine-text::before {
                left: -10px;
            }
            
            .valentine-text::after {
                right: -10px;
            }
            
            .gif-card {
                height: 380px;
                max-width: 90%;
                margin: 15px auto 30px;
                border-width: 8px;
            }
            
            .card-caption {
                font-size: 1.1rem;
                padding: 10px;
            }
            
            .btn {
                padding: 20px 50px;
                font-size: 1.8rem;
                min-width: 200px;
            }
            
            .action-buttons {
                gap: 30px;
            }
            
            .celebration-text {
                font-size: 3.5rem;
            }
            
            .letter-btn {
                padding: 20px 40px;
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 480px) {
            .valentine-text {
                font-size: 2.8rem;
                margin-bottom: 20px;
            }
            
            .gif-card {
                height: 320px;
                border-radius: 25px;
                margin: 10px auto 25px;
            }
            
            .btn {
                width: 100%;
                max-width: 320px;
                padding: 18px 40px;
                font-size: 1.6rem;
                min-width: auto;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
                gap: 25px;
                width: 100%;
            }
            
            .celebration-text {
                font-size: 2.8rem;
                margin-bottom: 30px;
            }
            
            .nav-bottom-button {
                padding: 8px 5px;
                min-width: 55px;
            }
            
            .nav-bottom-button i {
                font-size: 18px;
            }
            
            .nav-bottom-button span {
                font-size: 9px;
            }
            
            .letter-btn {
                padding: 18px 35px;
                font-size: 1.6rem;
            }
        }
        
        /* Ultra-small devices */
        @media (max-width: 360px) {
            .valentine-text {
                font-size: 2.4rem;
            }
            
            .gif-card {
                height: 280px;
            }
            
            .btn {
                padding: 16px 30px;
                font-size: 1.4rem;
            }
            
            .letter-btn {
                font-size: 1.4rem;
                padding: 16px 30px;
            }
        }
        
        /* Large screens */
        @media (min-width: 1200px) {
            .main-content {
                padding: 50px;
            }
            
            .gif-card {
                max-width: 800px;
                height: 500px;
            }
        }
        
        /* iPad and tablet specific */
        @media (min-width: 768px) and (max-width: 1024px) {
            .gif-card {
                height: 400px;
                max-width: 85%;
            }
        }
        
        /* Prevent text selection on buttons */
        .btn, .nav-button, .nav-bottom-button {
            user-select: none;
            -webkit-user-select: none;
        }
    </style>
</head>
<body>
    <!-- Animated floating hearts background -->
    <div class="floating-hearts" id="floating-hearts"></div>
    
    <div class="container">
        <!-- Left Side Navigation - Desktop -->
       <div class="nav-left-desktop">
            <div class="nav-button" id="images-btn" title="Our Memories">
                <i class="fas fa-images"></i>
                <span>Memories</span>
            </div>
            <div class="nav-button" id="letters-btn" title="Love Letters">
                <i class="fas fa-heart"></i>
                <span>Letters</span>
            </div>
            <div class="nav-button" id="game-btn" title="Play Game">
                <i class="fas fa-gamepad"></i>
                <span>Game</span>
            </div>
            <div class="nav-button logout-btn" id="logout-btn" title="Logout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </div>
        </div>

        <!--mobile navigation-->
      <div class="nav-bottom-mobile">
    <div class="nav-bottom-buttons">

        <a href="memories.html" class="nav-bottom-button" title="Our Memories">
            <i class="fas fa-images"></i>
            <span>Memories</span>
        </a>

        <a href="letters.html" class="nav-bottom-button" title="Love Letters">
            <i class="fas fa-heart"></i>
            <span>Letters</span>
        </a>

        <a href="game.html" class="nav-bottom-button" title="Play Game">
            <i class="fas fa-gamepad"></i>
            <span>Game</span>
        </a>

        <a href="index.html" class="nav-bottom-button logout" title="Logout">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </a>

    </div>
</div>

        
        <!-- Main content area -->
        <div class="main-content">
            <div class="hero">
                <h1 class="valentine-text">Will you be my Valentine?</h1>
                
                <!-- White Card with GIF -->
                <div class="gif-card" id="gif-card">
                    <img src="images/please.gif" alt="Valentine GIF" id="card-gif">
                    <div class="card-caption" id="card-caption">Our love story begins here...</div>
                </div>
                
                <div class="action-buttons">
                    <button class="btn yes-btn" id="yes-btn">YES! üíñ</button>
                    <div style="position: relative;">
                        <div class="no-message" id="no-message">You are breaking my heart üíî</div>
                        <button class="btn no-btn" id="no-btn">No üò¢</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Celebration overlay (hidden by default) -->
        <div class="celebration-overlay" id="celebration-overlay">
            <div class="celebration-content">
                <h2 class="celebration-text">You've made me the happiest! üíñ</h2>
                <button class="btn letter-btn" id="letter-btn">A Cute Letter For You üíå</button>
            </div>
        </div>
    </div>

    <script>
        // to open the particular page beautifully 
         function navigateTo(page) {
        document.body.classList.add("fade-out");
        setTimeout(() => {
            window.location.href = page;
        }, 500);
    }

    document.getElementById("images-btn").addEventListener("click", () => {
        navigateTo("photos.html");
    });

    document.getElementById("letters-btn").addEventListener("click", () => {
        navigateTo("letters.html");
    });

    document.getElementById("game-btn").addEventListener("click", () => {
        navigateTo("game.html");
    });

    document.getElementById("logout-btn").addEventListener("click", () => {
        navigateTo("index.html");
    });
        // DOM Elements
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const noMessage = document.getElementById('no-message');
        const celebrationOverlay = document.getElementById('celebration-overlay');
        const letterBtn = document.getElementById('letter-btn');
        const cardGif = document.getElementById('card-gif');
        const cardCaption = document.getElementById('card-caption');
        
        // Navigation buttons
        const imagesBtn = document.getElementById('images-btn') || document.getElementById('images-btn-mobile');
        const lettersBtn = document.getElementById('letters-btn') || document.getElementById('letters-btn-mobile');
        const gameBtn = document.getElementById('game-btn') || document.getElementById('game-btn-mobile');
        const logoutBtn = document.getElementById('logout-btn') || document.getElementById('logout-btn-mobile');
        
        // GIF arrays
        const randomGifs = [
            {src: "images/please.gif", caption: "Please say yes! üíñ"}
           
        ];
        
        const happyGif = {src: "images/heppi.gif", caption: "Yay! You make me so happy! üòç"};
        const celebrationGif = {src: "images/celebrate.gif", caption: "Celebrating our love! üéâ"};
        
        // No button messages sequence
        const noMessages = [
            "You are breaking my heart üíî",
            "Pretty please with a cherry on top üçí",
            "But what if we gave it a chance? üí≠",
            "Can't catch me like that üòú",
            "I'll keep trying! üíò",
            "My love for you is endless üåπ"
        ];
        
        // Variables
        let noClickCount = 0;
        let isMouseOverYes = false;
        let isCelebrating = false;
        let confettiInterval;
        let noButtonEscaping = false;
        let escapeTimeout;
        let yesHoverCount = 0;
        let currentRandomIndex = 0;
        
        // Create floating hearts background
        function createFloatingHearts() {
            const heartsContainer = document.getElementById('floating-hearts');
            for (let i = 0; i < 30; i++) {
                const heart = document.createElement('div');
                heart.classList.add('floating-heart');
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = `${Math.random() * 100}vw`;
                heart.style.animationDuration = `${Math.random() * 20 + 15}s`;
                heart.style.animationDelay = `${Math.random() * 5}s`;
                heart.style.fontSize = `${Math.random() * 25 + 15}px`;
                heartsContainer.appendChild(heart);
            }
        }
        
        // Set random GIF on card
        function setRandomGif() {
            // Get a random index different from current one
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * randomGifs.length);
            } while (randomGifs.length > 1 && newIndex === currentRandomIndex);
            
            currentRandomIndex = newIndex;
            const randomGif = randomGifs[currentRandomIndex];
            
            // Fade out current GIF
            cardGif.style.opacity = '0';
            
            // Set new GIF after a short delay
            setTimeout(() => {
                cardGif.src = randomGif.src;
                cardCaption.textContent = randomGif.caption;
                cardGif.style.opacity = '1';
            }, 300);
        }
        
        // Set specific GIF on card
        function setSpecificGif(gifData) {
            // Fade out current GIF
            cardGif.style.opacity = '0';
            
            // Set new GIF after a short delay
            setTimeout(() => {
                cardGif.src = gifData.src;
                cardCaption.textContent = gifData.caption;
                cardGif.style.opacity = '1';
            }, 300);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Create floating hearts
            createFloatingHearts();
            
            // Set initial random GIF
            setRandomGif();
            
            // Change random GIF every 8 seconds
            setInterval(() => {
                if (!isMouseOverYes && !isCelebrating) {
                    setRandomGif();
                }
            }, 8000);
            
            // Add hover effect to Yes button
            yesBtn.addEventListener('mouseenter', function() {
                isMouseOverYes = true;
                yesHoverCount++;
                
                // Change GIF to happy GIF
                setSpecificGif(happyGif);
            });
            
            yesBtn.addEventListener('mouseleave', function() {
                isMouseOverYes = false;
                
                // Change back to random GIF if not celebrating
                if (!isCelebrating) {
                    setTimeout(() => {
                        if (!isMouseOverYes && !isCelebrating) {
                            setRandomGif();
                        }
                    }, 300);
                }
            });
            
            // For touch devices
            yesBtn.addEventListener('touchstart', function() {
                isMouseOverYes = true;
                yesHoverCount++;
                setSpecificGif(happyGif);
                
                // For touch devices, we need to handle touchend as well
                setTimeout(() => {
                    isMouseOverYes = false;
                    if (!isCelebrating) {
                        setRandomGif();
                    }
                }, 2000);
            });
            
            // Handle Yes button click
            yesBtn.addEventListener('click', showCelebration);
            
            // Handle No button - escape from mouse
            document.addEventListener('mousemove', function(e) {
                if (noButtonEscaping || isCelebrating) return;
                
                const noBtnRect = noBtn.getBoundingClientRect();
                const mouseX = e.clientX;
                const mouseY = e.clientY;
                
                // Calculate distance between mouse and button center
                const btnCenterX = noBtnRect.left + noBtnRect.width / 2;
                const btnCenterY = noBtnRect.top + noBtnRect.height / 2;
                const distance = Math.sqrt(
                    Math.pow(mouseX - btnCenterX, 2) + 
                    Math.pow(mouseY - btnCenterY, 2)
                );
                
                // If mouse is close to button, move it away
                if (distance < 120) {
                    moveNoButton();
                }
            });
            
            // Handle No button click
            noBtn.addEventListener('click', handleNoClick);
            
            // Handle letter button
            letterBtn.addEventListener('click', function() {
                // Redirect to propose.html
                window.location.href = 'propose.html';
            });
            
            // Handle restart (by refreshing)
            celebrationOverlay.addEventListener('click', function(e) {
                if (e.target === celebrationOverlay) {
                    restartExperience();
                }
            });
            
            // Handle logout button
            logoutBtn.addEventListener('click', function() {
                alert('Logging out with love... ‚ù§Ô∏è Redirecting to login page.');
                // In a real app, you would redirect to login.html
                // window.location.href = 'login.html';
            });
            
            // Handle other nav buttons
            imagesBtn.addEventListener('click', function() {
                alert('Opening our beautiful memories gallery... üì∑');
            });
            
            lettersBtn.addEventListener('click', function() {
                alert('Opening love letters from my heart... üíå');
            });
            
            gameBtn.addEventListener('click', function() {
                alert('Starting our love adventure game... üéÆ');
            });
        });
        
        // Move No button to random position
        function moveNoButton() {
            if (noButtonEscaping || isCelebrating) return;
            
            noButtonEscaping = true;
            
            // Clear any existing timeout
            if (escapeTimeout) clearTimeout(escapeTimeout);
            
            const maxX = window.innerWidth - noBtn.offsetWidth - 100;
            const maxY = window.innerHeight - noBtn.offsetHeight - 150;
            const randomX = Math.max(50, Math.random() * maxX);
            const randomY = Math.max(50, Math.random() * maxY);
            
            // Apply position change with transition
            noBtn.style.transition = 'all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            noBtn.style.position = 'fixed';
            noBtn.style.left = `${randomX}px`;
            noBtn.style.top = `${randomY}px`;
            noBtn.style.zIndex = '100';
            
            // Reset escaping state after animation
            escapeTimeout = setTimeout(() => {
                noButtonEscaping = false;
            }, 600);
        }
        
        // Handle No button click
        function handleNoClick() {
            // Show message
            noMessage.textContent = noMessages[noClickCount];
            noMessage.classList.add('show');
            
            // Hide message after 2 seconds
            setTimeout(() => {
                noMessage.classList.remove('show');
            }, 2000);
            
            // Move the No button randomly
            moveNoButton();
            
            // Increment click count and loop if needed
            noClickCount = (noClickCount + 1) % noMessages.length;
            
            // Make button harder to click by making it smaller after 2nd click
            if (noClickCount >= 2) {
                const scale = 1 - (noClickCount * 0.15);
                noBtn.style.transform = `scale(${scale})`;
            }
        }
        
        // Show celebration overlay
        function showCelebration() {
            isCelebrating = true;
            
            // Change card GIF to celebration GIF
            setSpecificGif(celebrationGif);
            
            // Create confetti
            createConfetti();
            
            // Create crackers
            createCrackers();
            
            // Show celebration overlay
            setTimeout(() => {
                celebrationOverlay.classList.add('active');
            }, 1000);
        }
        
        // Create confetti effect
        function createConfetti() {
            // Clear any existing confetti interval
            if (confettiInterval) clearInterval(confettiInterval);
            
            // Create confetti pieces
            confettiInterval = setInterval(() => {
                if (!isCelebrating) {
                    clearInterval(confettiInterval);
                    return;
                }
                
                for (let i = 0; i < 8; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    
                    // Random position
                    confetti.style.left = `${Math.random() * 100}vw`;
                    confetti.style.top = `-30px`;
                    
                    // Random color
                    const colors = ['#ff7eb3', '#ff758c', '#a8edea', '#fed6e3', '#c44569', '#ffd700', '#ffa500', '#ffffff', '#ff2e80'];
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    // Random size
                    const size = Math.random() * 20 + 10;
                    confetti.style.width = `${size}px`;
                    confetti.style.height = `${size}px`;
                    
                    // Random shape
                    if (Math.random() > 0.5) {
                        confetti.style.borderRadius = '50%';
                    } else {
                        confetti.style.borderRadius = '10%';
                    }
                    
                    // Add to body
                    document.body.appendChild(confetti);
                    
                    // Animate confetti falling
                    const animation = confetti.animate([
                        { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                        { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                    ], {
                        duration: Math.random() * 3000 + 2000,
                        easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                    });
                    
                    // Remove confetti after animation
                    animation.onfinish = () => {
                        confetti.remove();
                    };
                }
            }, 80);
        }
        
        // Create crackers effect
        function createCrackers() {
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const cracker = document.createElement('div');
                    cracker.classList.add('cracker');
                    cracker.innerHTML = 'üéâ';
                    cracker.style.left = `${Math.random() * 90 + 5}vw`;
                    cracker.style.top = `${Math.random() * 90 + 5}vh`;
                    cracker.style.fontSize = `${Math.random() * 40 + 30}px`;
                    
                    document.body.appendChild(cracker);
                    
                    // Remove cracker after animation
                    setTimeout(() => {
                        cracker.remove();
                    }, 1200);
                }, i * 80);
            }
        }
        
        // Restart the experience
        function restartExperience() {
            // Hide celebration overlay
            celebrationOverlay.classList.remove('active');
            
            // Reset celebration state
            isCelebrating = false;
            
            // Reset no button
            noClickCount = 0;
            noBtn.style.position = '';
            noBtn.style.left = '';
            noBtn.style.top = '';
            noBtn.style.transform = '';
            noBtn.style.transition = '';
            noBtn.style.zIndex = '';
            
            // Reset GIF to random
            setRandomGif();
            
            // Clear confetti
            if (confettiInterval) clearInterval(confettiInterval);
            document.querySelectorAll('.confetti, .cracker').forEach(el => el.remove());
        }
        
        // Make the page responsive on resize
        window.addEventListener('resize', function() {
            // Reset no button position on resize if it's fixed
            if (noBtn.style.position === 'fixed' && !isCelebrating) {
                noBtn.style.position = '';
                noBtn.style.left = '';
                noBtn.style.top = '';
            }
        });
        
        // Handle iOS Safari 100vh issue
        function setFullHeight() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        setFullHeight();
        window.addEventListener('resize', setFullHeight);
    </script>
</body>
</html>